<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IndieStore - Apps & Games</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { background-color: #0b0f12; color: #e8eaed; font-family: 'Roboto', sans-serif; }
        .app-card { background-color: transparent; transition: all 0.3s ease; border-radius: 12px; display: block; }
        .app-card:hover { background-color: #202124; }
        .app-card img { border: 1px solid #3c4043; border-radius: 22%; width: 100%; aspect-ratio: 1/1; object-fit: cover; }
        .btn-primary { background-color: #01875f; color: white; }
        .filter-pill { border: 1px solid #3c4043; padding: 6px 16px; border-radius: 20px; font-size: 14px; cursor: pointer; transition: 0.2s; }
        .filter-pill.active { background-color: #01875f; border-color: #01875f; color: white; }
        #uploadModal { display: none; position: fixed; inset: 0; background: rgba(0, 0, 0, 0.9); z-index: 100; align-items: center; justify-content: center; overflow-y: auto; }
    </style>
</head>
<body>

    <header class="p-4 border-b border-gray-800 sticky top-0 bg-[#0b0f12] z-50">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <h1 class="text-2xl font-bold text-white">IndieStore</h1>
            <button onclick="abrirModal()" class="btn-primary px-6 py-2 rounded-full text-sm font-medium">Poste seu app</button>
        </div>
        
        <div class="max-w-7xl mx-auto mt-4 flex flex-wrap gap-3 pb-2">
            <div onclick="filtrar('todos', this)" class="filter-pill active">Todos</div>
            <div onclick="filtrar('app', this)" class="filter-pill">Aplicativos</div>
            <div onclick="filtrar('jogo', this)" class="filter-pill">Jogos</div>
            <div class="h-6 w-[1px] bg-gray-700 mx-2"></div> <div onclick="filtrar('mobile', this)" class="filter-pill">Mobile</div>
            <div onclick="filtrar('pc', this)" class="filter-pill">PC</div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto p-6">
        <div id="appGrid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-8">
            </div>
    </main>

    <div id="uploadModal">
        <div class="bg-[#202124] p-8 rounded-2xl w-full max-w-lg my-8 mx-4 shadow-2xl">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-semibold">Publicar Projeto</h3>
                <button onclick="fecharModal()" class="text-gray-400 text-2xl">&times;</button>
            </div>

            <form id="appForm" class="space-y-4">
                <input type="text" id="nome" placeholder="Nome do App/Jogo" class="w-full p-3 rounded-lg bg-[#303134] text-white outline-none" required>
                
                <div class="grid grid-cols-2 gap-4">
                    <select id="categoria" class="p-3 rounded-lg bg-[#303134] text-white outline-none">
                        <option value="app">Aplicativo</option>
                        <option value="jogo">Jogo</option>
                    </select>
                    <select id="plataforma" class="p-3 rounded-lg bg-[#303134] text-white outline-none">
                        <option value="mobile">Mobile (APK)</option>
                        <option value="pc">PC (.EXE)</option>
                    </select>
                </div>

                <input type="url" id="linkArquivo" placeholder="Link (Mediafire/Mega)" class="w-full p-3 rounded-lg bg-[#303134] text-white outline-none" required>
                <input type="url" id="linkImagem" placeholder="Link da Logo (Imgur)" class="w-full p-3 rounded-lg bg-[#303134] text-white outline-none" required>
                
                <textarea id="descricao" minlength="50" placeholder="Descrição (mín. 50 caracteres)..." class="w-full p-3 rounded-lg bg-[#303134] text-white outline-none h-24" required></textarea>

                <button type="submit" class="w-full btn-primary py-3 rounded-lg font-bold">LANÇAR AGORA</button>
            </form>
        </div>
    </div>

    <script>
        let appsData = []; // Array para guardar os apps na memória

        function abrirModal() { document.getElementById('uploadModal').style.display = 'flex'; }
        function fecharModal() { document.getElementById('uploadModal').style.display = 'none'; }

        function renderizarGrid(filtro = 'todos') {
            const grid = document.getElementById('appGrid');
            grid.innerHTML = '';

            appsData.forEach(app => {
                // Lógica de filtro: verifica se o app bate com a categoria OU plataforma selecionada
                if (filtro === 'todos' || app.categoria === filtro || app.plataforma === filtro) {
                    const card = document.createElement('div');
                    card.className = "app-card p-2 animate-fade-in";
                    card.innerHTML = `
                        <img src="${app.imagem}" alt="${app.nome}">
                        <div class="mt-3">
                            <h4 class="text-sm font-medium truncate">${app.nome}</h4>
                            <div class="flex gap-2 mt-1">
                                <span class="text-[10px] bg-gray-800 px-2 py-0.5 rounded text-gray-400 uppercase font-bold">${app.plataforma}</span>
                            </div>
                            <p class="text-xs text-gray-500 mt-2 line-clamp-2">${app.descricao}</p>
                        </div>
                        <a href="${app.link}" target="_blank" class="block w-full text-center py-1 mt-3 rounded border border-gray-700 text-xs text-[#01875f] font-bold">BAIXAR</a>
                    `;
                    grid.appendChild(card);
                }
            });
        }

        function filtrar(tipo, elemento) {
            // Remove 'active' de todos e coloca no clicado
            document.querySelectorAll('.filter-pill').forEach(p => p.classList.remove('active'));
            elemento.classList.add('active');
            renderizarGrid(tipo);
        }

        document.getElementById('appForm').onsubmit = (e) => {
            e.preventDefault();
            const novoApp = {
                nome: document.getElementById('nome').value,
                categoria: document.getElementById('categoria').value,
                plataforma: document.getElementById('plataforma').value,
                link: document.getElementById('linkArquivo').value,
                imagem: document.getElementById('linkImagem').value,
                descricao: document.getElementById('descricao').value
            };

            appsData.unshift(novoApp); // Adiciona no topo
            renderizarGrid();
            fecharModal();
            e.target.reset();
        };

        // Seed inicial (Exemplos)
        appsData.push({nome: "Editor Pro", categoria: "app", plataforma: "mobile", link: "#", imagem: "https://images.unsplash.com/photo-1611162617213-7d7a39e9b1d7?w=200", descricao: "Um editor de fotos completo para mobile feito para criativos."});
        appsData.push({nome: "Cyber Runner", categoria: "jogo", plataforma: "pc", link: "#", imagem: "https://images.unsplash.com/photo-1542751371-adc38448a05e?w=200", descricao: "Um jogo de corrida futurista para PC com luzes neon e alta velocidade."});
        
        renderizarGrid();
    </script>
</body>
</html>
